{"ast":null,"code":"var _jsxFileName = \"/Users/miller/Documents/rocketstart-web/client/src/pages/auth/verify/VerifyEmail.jsx\";\n// import React from 'react'\n// // import { useState, useEffect } from 'react';\n// import Loading from '../../../components/loading/Loading';\n// // import { useUserAuth } from '../../../context/AuthProvider';\n// import AuthResult from '../AuthResult';\n// import auth from \"../../../firebase\";\n// import {\n//   applyActionCode,\n//   } from \"firebase/auth\";\n\n// const VerifyEmail = ({actionCode}) => {\n\n//     // const [verified, setVerified] = useState(undefined);\n//     // const { verifyEmail, user } = useUserAuth();\n//     // const { verifyEmail(actionCode) } = useUserAuth();\n\n//     console.log('Enter verify email');\n//     console.log('Action code', actionCode);\n\n//         applyActionCode(auth, actionCode).then(() => {\n//             return <AuthResult action={'Email verification'} result={'successful.'} message={'Welcome to rocketstart!'}/>\n//         }, error => {\n//             return <AuthResult action={'Email verification'} result={'unsuccessful.'} message={'Your request to verify your email has expired or the link has already been used. Please try resending a code.'}/>\n//         });\n//         // console.log(verified);\n//     // catch (e) {\n//     //     console.log(e)\n//     //     return <AuthResult action={'Email verification'} result={'unsuccessful.'} message={'Your request to verify your email has expired or the link has already been used. Please try resending a code.'}/>\n//     // }\n\n//     // useEffect(() => {\n//     //     async function checkCode() {\n\n//     //         try {\n//     //             if(!user.isEmailVerified()) {\n//     //                 await verifyEmail(actionCode)\n//     //                 setVerified(true);\n//     //             }\n//     //         }\n//     //         catch (e) {\n//     //             setVerified(false);\n//     //         }\n//     //     }\n//     //     checkCode();\n//     // }, [user, verifyEmail, actionCode]);\n\n//     // return typeof verified === 'undefined' ? ( <Loading/> ) :\n//     //         verified? ( <AuthResult action={'Email verification'} result={'successful.'} message={'Welcome to rocketstart!'}/> )\n//     //                 : ( <AuthResult action={'Email verification'} result={'unsuccessful.'} message={'Your request to verify your email has expired or the link has already been used. Please try resending a code.'}/>)\n// }\n\n// export default VerifyEmail\n\nimport React, { Component } from 'react';\nimport Loading from '../../../components/loading/Loading';\nimport auth from '../../../firebase';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default class VerifyEmail extends Component {\n  constructor() {\n    super(...arguments);\n    this.state = {\n      error: '',\n      validCode: null,\n      verifiedCode: false\n    };\n  }\n  componentDidMount() {\n    // Try to apply the email verification code.\n\n    applyActionCode(auth, actionCode).then(() => {\n      // Email address has been verified.\n      this.setState({\n        validCode: true,\n        verifiedCode: true\n      });\n    }, error => {\n      // Code is invalid or expired. Ask the user to verify their email address\n      // again.\n      this.setState({\n        error: error.message,\n        validCode: false,\n        verifiedCode: true\n      });\n    });\n  }\n  render() {\n    const {\n      error,\n      validCode,\n      verifiedCode\n    } = this.state;\n    let component;\n    if (!verifiedCode) {\n      component = /*#__PURE__*/_jsxDEV(Loading, {\n        spinnerName: \"three-bounce\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 19\n      }, this);\n    } else if (verifiedCode && validCode) {\n      component = /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"VerifyEmail\",\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \"Your email has been verified\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"You can now sign in with your new account\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 9\n      }, this);\n    } else if (verifiedCode && !validCode) {\n      component = /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"VerifyEmail\",\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \"Try verifying your email again\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"error\",\n          children: error\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 9\n      }, this);\n    }\n    return component;\n  }\n}","map":{"version":3,"names":["React","Component","Loading","auth","VerifyEmail","state","error","validCode","verifiedCode","componentDidMount","applyActionCode","actionCode","then","setState","message","render","component"],"sources":["/Users/miller/Documents/rocketstart-web/client/src/pages/auth/verify/VerifyEmail.jsx"],"sourcesContent":["// import React from 'react'\n// // import { useState, useEffect } from 'react';\n// import Loading from '../../../components/loading/Loading';\n// // import { useUserAuth } from '../../../context/AuthProvider';\n// import AuthResult from '../AuthResult';\n// import auth from \"../../../firebase\";\n// import {\n//   applyActionCode,\n//   } from \"firebase/auth\";\n\n// const VerifyEmail = ({actionCode}) => {\n\n//     // const [verified, setVerified] = useState(undefined);\n//     // const { verifyEmail, user } = useUserAuth();\n//     // const { verifyEmail(actionCode) } = useUserAuth();\n\n//     console.log('Enter verify email');\n//     console.log('Action code', actionCode);\n\n//         applyActionCode(auth, actionCode).then(() => {\n//             return <AuthResult action={'Email verification'} result={'successful.'} message={'Welcome to rocketstart!'}/>\n//         }, error => {\n//             return <AuthResult action={'Email verification'} result={'unsuccessful.'} message={'Your request to verify your email has expired or the link has already been used. Please try resending a code.'}/>\n//         });\n//         // console.log(verified);\n//     // catch (e) {\n//     //     console.log(e)\n//     //     return <AuthResult action={'Email verification'} result={'unsuccessful.'} message={'Your request to verify your email has expired or the link has already been used. Please try resending a code.'}/>\n//     // }\n\n//     // useEffect(() => {\n//     //     async function checkCode() {\n\n//     //         try {\n//     //             if(!user.isEmailVerified()) {\n//     //                 await verifyEmail(actionCode)\n//     //                 setVerified(true);\n//     //             }\n//     //         }\n//     //         catch (e) {\n//     //             setVerified(false);\n//     //         }\n//     //     }\n//     //     checkCode();\n//     // }, [user, verifyEmail, actionCode]);\n\n//     // return typeof verified === 'undefined' ? ( <Loading/> ) :\n//     //         verified? ( <AuthResult action={'Email verification'} result={'successful.'} message={'Welcome to rocketstart!'}/> )\n//     //                 : ( <AuthResult action={'Email verification'} result={'unsuccessful.'} message={'Your request to verify your email has expired or the link has already been used. Please try resending a code.'}/>)\n// }\n\n// export default VerifyEmail\n\n\nimport React, { Component } from 'react';\nimport Loading from '../../../components/loading/Loading';\nimport auth from '../../../firebase';\n\nexport default class VerifyEmail extends Component {\n  state = {\n    error: '',\n    validCode: null,\n    verifiedCode: false,\n  }\n\n  componentDidMount() {\n    // Try to apply the email verification code.\n    \n      applyActionCode(auth, actionCode)\n      .then(() => {\n        // Email address has been verified.\n        this.setState({ validCode: true, verifiedCode: true });\n      }, error => {\n        // Code is invalid or expired. Ask the user to verify their email address\n        // again.\n        this.setState({ error: error.message, validCode: false, verifiedCode: true });\n      });\n  }\n\n  render() {\n    const {\n      error,\n      validCode,\n      verifiedCode,\n    } = this.state;\n\n    let component;\n    if (!verifiedCode) {\n      component = <Loading spinnerName=\"three-bounce\" />;\n    } else if (verifiedCode && validCode) {\n      component = (\n        <div className=\"VerifyEmail\">\n          <h1>Your email has been verified</h1>\n          <p>You can now sign in with your new account</p>\n        </div>\n      );\n    } else if (verifiedCode && !validCode) {\n      component = (\n        <div className=\"VerifyEmail\">\n          <h1>Try verifying your email again</h1>\n          <p className=\"error\">{error}</p>\n        </div>\n      );\n    }\n\n    return component;\n  }\n}"],"mappings":";AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAGA,OAAOA,KAAK,IAAIC,SAAS,QAAQ,OAAO;AACxC,OAAOC,OAAO,MAAM,qCAAqC;AACzD,OAAOC,IAAI,MAAM,mBAAmB;AAAC;AAErC,eAAe,MAAMC,WAAW,SAASH,SAAS,CAAC;EAAA;IAAA;IAAA,KACjDI,KAAK,GAAG;MACNC,KAAK,EAAE,EAAE;MACTC,SAAS,EAAE,IAAI;MACfC,YAAY,EAAE;IAChB,CAAC;EAAA;EAEDC,iBAAiB,GAAG;IAClB;;IAEEC,eAAe,CAACP,IAAI,EAAEQ,UAAU,CAAC,CAChCC,IAAI,CAAC,MAAM;MACV;MACA,IAAI,CAACC,QAAQ,CAAC;QAAEN,SAAS,EAAE,IAAI;QAAEC,YAAY,EAAE;MAAK,CAAC,CAAC;IACxD,CAAC,EAAEF,KAAK,IAAI;MACV;MACA;MACA,IAAI,CAACO,QAAQ,CAAC;QAAEP,KAAK,EAAEA,KAAK,CAACQ,OAAO;QAAEP,SAAS,EAAE,KAAK;QAAEC,YAAY,EAAE;MAAK,CAAC,CAAC;IAC/E,CAAC,CAAC;EACN;EAEAO,MAAM,GAAG;IACP,MAAM;MACJT,KAAK;MACLC,SAAS;MACTC;IACF,CAAC,GAAG,IAAI,CAACH,KAAK;IAEd,IAAIW,SAAS;IACb,IAAI,CAACR,YAAY,EAAE;MACjBQ,SAAS,gBAAG,QAAC,OAAO;QAAC,WAAW,EAAC;MAAc;QAAA;QAAA;QAAA;MAAA,QAAG;IACpD,CAAC,MAAM,IAAIR,YAAY,IAAID,SAAS,EAAE;MACpCS,SAAS,gBACP;QAAK,SAAS,EAAC,aAAa;QAAA,wBAC1B;UAAA;QAAA;UAAA;UAAA;UAAA;QAAA,QAAqC,eACrC;UAAA;QAAA;UAAA;UAAA;UAAA;QAAA,QAAgD;MAAA;QAAA;QAAA;QAAA;MAAA,QAEnD;IACH,CAAC,MAAM,IAAIR,YAAY,IAAI,CAACD,SAAS,EAAE;MACrCS,SAAS,gBACP;QAAK,SAAS,EAAC,aAAa;QAAA,wBAC1B;UAAA;QAAA;UAAA;UAAA;UAAA;QAAA,QAAuC,eACvC;UAAG,SAAS,EAAC,OAAO;UAAA,UAAEV;QAAK;UAAA;UAAA;UAAA;QAAA,QAAK;MAAA;QAAA;QAAA;QAAA;MAAA,QAEnC;IACH;IAEA,OAAOU,SAAS;EAClB;AACF"},"metadata":{},"sourceType":"module","externalDependencies":[]}