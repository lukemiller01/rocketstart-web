{"ast":null,"code":"var _jsxFileName = \"/Users/miller/Documents/rocketstart-web/client/src/pages/auth/components/reset/ResetPassword.jsx\";\nimport React, { Component } from 'react';\nimport Loading from '../../../../components/loading/Loading';\nimport auth from '../../../../firebase';\nimport AuthResult from '../verify/AuthResult';\nimport { applyActionCode } from \"firebase/auth\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default class ResetPassword extends Component {\n  constructor() {\n    super(...arguments);\n    this.state = {\n      validCode: null,\n      verifiedCode: false\n    };\n  }\n  componentDidMount() {\n    // Try to apply the email verification code.\n\n    applyActionCode(auth, this.props.actionCode).then(() => {\n      // Email address has been verified.\n      this.setState({\n        validCode: true,\n        verifiedCode: true\n      });\n      auth.currentUser.reload();\n    }, error => {\n      // Code is invalid or expired. Ask the user to verify their email address\n      this.setState({\n        error: error.message,\n        validCode: false,\n        verifiedCode: true\n      });\n    });\n  }\n  render() {\n    const {\n      validCode,\n      verifiedCode\n    } = this.state;\n    let component;\n    if (!verifiedCode) {\n      component = /*#__PURE__*/_jsxDEV(Loading, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 31,\n        columnNumber: 19\n      }, this);\n    } else if (verifiedCode && validCode) {\n      component = /*#__PURE__*/_jsxDEV(AuthResult, {\n        action: 'Email verification',\n        result: 'successful.',\n        message: 'Welcome to rocketstart!'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 33,\n        columnNumber: 21\n      }, this);\n    } else if (verifiedCode && !validCode) {\n      component = /*#__PURE__*/_jsxDEV(AuthResult, {\n        action: 'Email verification',\n        result: 'unsuccessful.',\n        message: 'Your request to verify your email has expired or the link has already been used. Please try resending a code.'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 35,\n        columnNumber: 21\n      }, this);\n    }\n    return component;\n  }\n}","map":{"version":3,"names":["React","Component","Loading","auth","AuthResult","applyActionCode","ResetPassword","state","validCode","verifiedCode","componentDidMount","props","actionCode","then","setState","currentUser","reload","error","message","render","component"],"sources":["/Users/miller/Documents/rocketstart-web/client/src/pages/auth/components/reset/ResetPassword.jsx"],"sourcesContent":["import React, { Component } from 'react';\nimport Loading from '../../../../components/loading/Loading';\nimport auth from '../../../../firebase';\nimport AuthResult from '../verify/AuthResult';\nimport {\n  applyActionCode,\n  } from \"firebase/auth\";\n\nexport default class ResetPassword extends Component {\n  state = { validCode: null, verifiedCode: false }\n\n  componentDidMount() {\n    // Try to apply the email verification code.\n    \n    applyActionCode(auth, this.props.actionCode)\n    .then(() => {\n      // Email address has been verified.\n      this.setState({ validCode: true, verifiedCode: true });\n      auth.currentUser.reload();\n    }, error => {\n      // Code is invalid or expired. Ask the user to verify their email address\n      this.setState({ error: error.message, validCode: false, verifiedCode: true });\n    });\n  }\n\n  render() {\n    const { validCode, verifiedCode } = this.state;\n\n    let component;\n    if (!verifiedCode) {\n      component = <Loading/>;\n    } else if (verifiedCode && validCode) {\n      component = ( <AuthResult action={'Email verification'} result={'successful.'} message={'Welcome to rocketstart!'}/> );\n    } else if (verifiedCode && !validCode) {\n      component = ( <AuthResult action={'Email verification'} result={'unsuccessful.'} message={'Your request to verify your email has expired or the link has already been used. Please try resending a code.'}/> );\n    }\n\n    return component;\n  }\n}"],"mappings":";AAAA,OAAOA,KAAK,IAAIC,SAAS,QAAQ,OAAO;AACxC,OAAOC,OAAO,MAAM,wCAAwC;AAC5D,OAAOC,IAAI,MAAM,sBAAsB;AACvC,OAAOC,UAAU,MAAM,sBAAsB;AAC7C,SACEC,eAAe,QACR,eAAe;AAAC;AAEzB,eAAe,MAAMC,aAAa,SAASL,SAAS,CAAC;EAAA;IAAA;IAAA,KACnDM,KAAK,GAAG;MAAEC,SAAS,EAAE,IAAI;MAAEC,YAAY,EAAE;IAAM,CAAC;EAAA;EAEhDC,iBAAiB,GAAG;IAClB;;IAEAL,eAAe,CAACF,IAAI,EAAE,IAAI,CAACQ,KAAK,CAACC,UAAU,CAAC,CAC3CC,IAAI,CAAC,MAAM;MACV;MACA,IAAI,CAACC,QAAQ,CAAC;QAAEN,SAAS,EAAE,IAAI;QAAEC,YAAY,EAAE;MAAK,CAAC,CAAC;MACtDN,IAAI,CAACY,WAAW,CAACC,MAAM,EAAE;IAC3B,CAAC,EAAEC,KAAK,IAAI;MACV;MACA,IAAI,CAACH,QAAQ,CAAC;QAAEG,KAAK,EAAEA,KAAK,CAACC,OAAO;QAAEV,SAAS,EAAE,KAAK;QAAEC,YAAY,EAAE;MAAK,CAAC,CAAC;IAC/E,CAAC,CAAC;EACJ;EAEAU,MAAM,GAAG;IACP,MAAM;MAAEX,SAAS;MAAEC;IAAa,CAAC,GAAG,IAAI,CAACF,KAAK;IAE9C,IAAIa,SAAS;IACb,IAAI,CAACX,YAAY,EAAE;MACjBW,SAAS,gBAAG,QAAC,OAAO;QAAA;QAAA;QAAA;MAAA,QAAE;IACxB,CAAC,MAAM,IAAIX,YAAY,IAAID,SAAS,EAAE;MACpCY,SAAS,gBAAK,QAAC,UAAU;QAAC,MAAM,EAAE,oBAAqB;QAAC,MAAM,EAAE,aAAc;QAAC,OAAO,EAAE;MAA0B;QAAA;QAAA;QAAA;MAAA,QAAI;IACxH,CAAC,MAAM,IAAIX,YAAY,IAAI,CAACD,SAAS,EAAE;MACrCY,SAAS,gBAAK,QAAC,UAAU;QAAC,MAAM,EAAE,oBAAqB;QAAC,MAAM,EAAE,eAAgB;QAAC,OAAO,EAAE;MAAgH;QAAA;QAAA;QAAA;MAAA,QAAI;IAChN;IAEA,OAAOA,SAAS;EAClB;AACF"},"metadata":{},"sourceType":"module","externalDependencies":[]}